{
	"scenario": [
		"lang:dialog.horned_statue.0",
		{
			"dialog": "lang:dialog.horned_statue.1",
			"choices": [
				{
					"text": "lang:dialog.horned_statue.choice.start.yes",
					"then": "continue"
				},
				{
					"text": "lang:dialog.horned_statue.choice.start.tell_me_more",
					"scenario": { "error": "TODO" }
				},
				{
					"text": "lang:dialog.horned_statue.choice.start.no",
					"scenario": { "error": "TODO" }
				}
			]
		},
		{
			"label": "main",
			"do": "has_essence",
			"if": {
				"dialog": "lang:dialog.horned_statue.essence.0",
				"choices": [
					{
						"text": "lang:dialog.horned_statue.choice.main.have_another_one",
						"scenario": { "go": "sell" }
					},
					{
						"text": "lang:dialog.horned_statue.choice.main.want_one_back",
						"scenario": { "go": "buy" }
					},
					{
						"text": "lang:dialog.horned_statue.choice.had_enough",
						"scenario": { "go": "exit but different, i don't fucking know" }
					}
				]
			},
			"else": {
				"dialog": "lang:dialog.horned_statue.no_essence.0",
				"choices": [
					{
						"text": "lang:dialog.horned_statue.choice.yes",
						"scenario": { "go": "sell" }
					},
					{
						"text": "lang:dialog.horned_statue.choice.nevermind",
						"scenario": { "error": "TODO" }
					}
				]
			}
		},
		{
			"label": "sell",
			"dialog": "lang:dialog.horned_statue.sell.0",
			"choices": [
				{
					"text": "lang:dialog.horned_statue.choice.heart",
					"scenario": {
						"do": "can_take_heart_container",
						"if": { "go": "confirmHeartSell" },
						"else": [
							"lang:dialog.horned_statue.warn.no_heart_to_sell.0",
							{ "go": "main" }
						]
					}
				},
				{
					"text": "lang:dialog.horned_statue.choice.stamina",
					"scenario": {
						"do": "can_take_stamina_vessel",
						"if": { "go": "confirmStaminaSell" },
						"else": [
							"lang:dialog.horned_statue.warn.no_stamina_to_sell.0",
							{ "go": "main" }
						]
					}
				},
				{
					"text": "lang:dialog.horned_statue.choice.had_enough",
					"scenario": { "error": "TODO" }
				}
			]
		},
		{
			"label": "confirmHeartSell",
			"dialog": "lang:dialog.horned_statue.sell.confirm.heart.0",
			"choices": [
				{
					"text": "lang:dialog.horned_statue.choice.yes",
					"scenario": [
						"lang:dialog.horned_statue.confirm.0",
						{
							"do": "take_heart_container",
							"else": [
								"lang:dialog.horned_statue.no_heart.0",
								{ "go": "main" }
							]
						},
						{
							"dialog": "lang:dialog.horned_statue.sell.repeat.heart.0",
							"choices": [
								{
									"text": "lang:dialog.horned_statue.choice.repeat.yes",
									"scenario": { "go": "confirmHeartSell" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.different",
									"scenario": { "go": "main" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.goodbye",
									"scenario": { "go": "exit" }
								}
							]
						}
					]
				},
				{
					"text": "lang:dialog.horned_statue.choice.no",
					"scenario": { "error": "TODO" }
				}
			]
		},
		{
			"label": "confirmStaminaSell",
			"dialog": "lang:dialog.horned_statue.sell.confirm.stamina.0",
			"choices": [
				{
					"text": "lang:dialog.horned_statue.choice.yes",
					"scenario": [
						"lang:dialog.horned_statue.confirm.0",
						{
							"do": "take_stamina_vessel",
							"else": [
								"lang:dialog.horned_statue.no_stamina.0",
								{ "go": "main" }
							]
						},
						{
							"dialog": "lang:dialog.horned_statue.sell.repeat.stamina.0",
							"choices": [
								{
									"text": "lang:dialog.horned_statue.choice.repeat.yes",
									"scenario": { "go": "confirmStaminaSell" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.different",
									"scenario": { "go": "main" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.goodbye",
									"scenario": { "go": "exit" }
								}
							]
						}
					]
				},
				{
					"text": "lang:dialog.horned_statue.choice.no",
					"scenario": { "error": "TODO" }
				}
			]
		},
		{
			"label": "buy",
			"do": "has_enough_money",
			"if": [
				{
					"dialog": "lang:dialog.horned_statue.buy.0",
					"choices": [
						{
							"text": "dialog.horned_statue.choice.heart",
							"scenario": {
								"do": "can_give_heart_container",
								"if": { "go": "confirmHeartBuy" },
								"else": [
									"lang:dialog.horned_statue.warn.heart_full.0",
									{ "go": "main" }
								]
							}
						},
						{
							"text": "dialog.horned_statue.choice.stamina",
							"scenario": {
								"do": "can_give_stamina_vessel",
								"if": { "go": "confirmStaminaBuy" },
								"else": [
									"lang:dialog.horned_statue.warn.stamina_full.0",
									{ "go": "main" }
								]
							}
						},
						{
							"text": "dialog.horned_statue.choice.had_enough",
							"scenario": { "error": "TODO" }
						}
					]
				}
			],
			"else": [
				"lang:dialog.horned_statue.not_enough_money.0",
				{ "go": "main" }
			]
		},
		{
			"label": "confirmHeartBuy",
			"dialog": "lang:dialog.horned_statue.buy.confirm.heart.0",
			"choices": [
				{
					"text": "lang:dialog.horned_statue.choice.yes",
					"scenario": [
						"lang:dialog.horned_statue.confirm.0",
						{
							"do": "give_heart_container",
							"else": {
								"do": "check_cheated",
								"if": { "go": "cheat" },
								"else": {
									"error": "TODO",
									"__comment": [
										"This could 'fail' from multiple reasons:",
										"1. by filling all heart spaces",
										"2. by running out of essences",
										"3. by running out of money",
										"I can't do anything about this part without messing around with all three cases.",
										"Same thing applies to confirmStaminaBuy."
									]
								}
							}
						},
						{
							"dialog": "lang:dialog.horned_statue.buy.repeat.heart.0",
							"choices": [
								{
									"text": "lang:dialog.horned_statue.choice.repeat.yes",
									"scenario": { "go": "confirmHeartBuy" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.different",
									"scenario": { "error": "TODO" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.goodbye",
									"scenario": { "go": "exit" }
								}
							]
						}
					]
				},
				{
					"text": "lang:dialog.horned_statue.choice.no",
					"scenario": { "error": "TODO" }
				}
			]
		},
		{
			"label": "confirmStaminaBuy",
			"dialog": "lang:dialog.horned_statue.buy.confirm.stamina.0",
			"choices": [
				{
					"text": "lang:dialog.horned_statue.choice.yes",
					"scenario": [
						"lang:dialog.horned_statue.confirm.0",
						{
							"do": "give_stamina_vessel",
							"else": {
								"do": "check_cheated",
								"if": { "go": "cheat" },
								"else": { "error": "TODO" }
							}
						},
						{
							"dialog": "lang:dialog.horned_statue.buy.repeat.stamina.0",
							"choices": [
								{
									"text": "lang:dialog.horned_statue.choice.repeat.yes",
									"scenario": { "go": "confirmStaminaBuy" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.different",
									"scenario": { "error": "TODO" }
								},
								{
									"text": "lang:dialog.horned_statue.choice.repeat.goodbye",
									"scenario": { "go": "exit" }
								}
							]
						}
					]
				},
				{
					"text": "lang:dialog.horned_statue.choice.no",
					"scenario": { "error": "TODO" }
				}
			]
		},
		{
			"label": "cheat",
			"scenario": [
				"lang:dialog.you_cheated_not_only_the_game_but_yourself.0",
				"lang:dialog.you_cheated_not_only_the_game_but_yourself.1",
				"lang:dialog.you_cheated_not_only_the_game_but_yourself.2",
				"lang:dialog.you_cheated_not_only_the_game_but_yourself.3",
				"lang:dialog.you_cheated_not_only_the_game_but_yourself.4",
				"lang:dialog.you_cheated_not_only_the_game_but_yourself.5",
				"lang:dialog.you_cheated_not_only_the_game_but_yourself.6",
				{ "end": "" }
			]
		},
		{
			"label": "exit",
			"dialog": "lang:dialog.horned_statue.exit.0"
		},
		{ "end": "" },
		{
			"label": "exit but different, i don't fucking know",
			"dialog": "lang:dialog.horned_statue.exit.different.0"
		}
	]
}